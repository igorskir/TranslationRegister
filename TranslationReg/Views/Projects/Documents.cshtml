@model TranslationRegistryModel.Project

<div>
    <a data-ajax="true" data-ajax-mode="replace" data-ajax-update="#addDocumentForm"
       href="/Documents/Create" class="btn btn-primary createBtn" role="button">
        Добавить
    </a>
    <div id="addDocumentForm" class="dynamicBlock"></div>

    <div class="">
        <div class="titles">
            <div class="col-md-3">Документы проекта</div>
            <div class="col-md-2">Владелец</div>
            <div class="col-md-7">Команды</div>
        </div>
        @foreach (var doc in Model.Documents)
        {
            <div class="properties">
                <div class="col-md-3">
                    <a class="titleLink" href="/Documents/DocAndStages/@doc.Id">@doc.Name</a>
                </div>
                <div class="col-md-2">
                    @doc.Owner.Name
                </div>
                <div class="col-md-7">
                    <div class="buttons-container">
                        @Html.ActionLink("Скачать оригинал", "Download", "Documents", new { @filepath = doc.OriginalFile.Path }, htmlAttributes: new { @class = "btn btn-info" })

                        @if (doc.FinalFile != null && !String.IsNullOrWhiteSpace(doc.FinalFile.Path))
                        {
                            @Html.ActionLink("Скачать готовый", "Download", "Documents", new { @filepath = doc.FinalFile.Path }, htmlAttributes: new { @class = "btn btn-info" })
                        }
                        else
                        {
                            <a href="#" class="btn disabled-btn" disabled="disabled">Скачать готовый</a>
                        }
                        <a class="btn btn-primary" href="/Documents/Edit/@doc.Id">Редактировать</a>
                        <a class="btn btn-danger deleteBtn" href="/Documents/Delete/@doc.Id" data-dialog-title="Удаление записи">Удалить</a>
                    </div>


                </div>
            </div>
        }
    </div>
</div>
