@model List<TranslationRegistryModel.User_Stage>
@{ViewBag.Title = "Мои задачи";}
<!-- ЗАГОЛОВОК И КНОПКА ДОБАВЛЕНИЯ -->
<div class="titleAndIcon">
    <h2>Мои задачи</h2>
    <i class="material-icons ajaxToggleBtn" data-ajax-update="#addProj" data-href="/Projects/Create">add_circle</i>
</div>

<!-- ФИЛЬТРЫ -->
<div class="container">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
    </div>
    <div class="container">
        <ul class="filters">
            <li>
                <a class="filter filter-active" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#projectList" href="/Projects/InWork">Задачи в работе</a>
            </li>
            <li>
                <a class="filter" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#projectList" href="/Projects/All">Все задачи</a>
            </li>
            <li>
                <a class="filter" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#projectList" href="/Projects/Done">Выполненные задачи</a>
            </li>
        </ul>
    </div>
</div>

<div class="tableMaterial">
    <div class="titles">
        <div class="col-md-3">Комментарий</div>
        <div class="col-md-2">Документ</div>
        <div class="col-md-1">Результат</div>
        <div class="col-md-2">Проект</div>
        <div class="col-md-1">Объем</div>
        <div class="col-md-1">Дедлайн</div>
        <div class="col-md-2">Команды</div>
    </div>

    <div>
        @foreach (var userStage in Model)
        {
            <div class="properties">
                <!-- Комментарий -->
                <div class="col-md-3">
                    <span>
                        @Html.DisplayFor(modelItem => userStage.Comment)
                    </span>
                </div>

                <!-- Документ -->
                <div class="col-md-2">
                    <div class="buttons-container">
                        <span>
                            @userStage.Stage.Document.Name
                        </span>
                        <a href="@Url.Action("Download", "Documents"/*, new { @filepath = userStage.Stage.Original.Path }*/)" class="listIcon">
                            <i class="material-icons">file_download</i>
                        </a>
                    </div>
                </div>

                <!-- Результат -->
                <div class="col-md-1">
                    <div class="buttons-container">
                        <a class="listIcon">
                            <i class="material-icons">file_upload</i>
                        </a>
                    </div>
                </div>

                <!-- Проект -->
                <div class="col-md-2">
                    <span>
                        <a class="titleLink">
                            @userStage.Stage.Document.Project.Name
                        </a>
                    </span>
                </div>
                <!-- Объем -->
                <div class="col-md-1">
                    <span>
                        @Html.DisplayFor(modelItem => userStage.Amount)
                    </span>
                </div>
                <!-- Дедлайн -->
                <div class="col-md-1">
                    <span>
                        @userStage.Stage.Deadline
                    </span>
                </div>

                <!-- Команды -->
                <div class="col-md-2">
                    <div class="buttons-container">
                        <a href="/User_Stage/Edit/@userStage.Id" class="listIcon">
                            <i class="material-icons">mode_edit</i>
                        </a>
                        <a class="deleteBtn listIcon" data-href="/User_Stage/Delete/@userStage.Id">
                            <i class="material-icons">delete</i>
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

<script type="text/javascript">
    document.title = '@ViewBag.Title';
</script>